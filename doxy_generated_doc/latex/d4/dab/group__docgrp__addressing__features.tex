\hypertarget{group__docgrp__addressing__features}{}\section{Addressing features}
\label{group__docgrp__addressing__features}\index{Addressing features@{Addressing features}}


Module describing addressing convertion functions.  


Module describing addressing convertion functions. 

Addressing is handled with the help of macros and functions that help to map beetween the different kinds of addressing of the Epiphany architecture.

Whether it is\+:


\begin{DoxyItemize}
\item From the epiphany side (hardware addresses). 
\begin{DoxyEnumerate}
\item local-\/workeru. 
\begin{DoxyItemize}
\item Zero based (without workeru id). 
\item With local workeru id. 
\end{DoxyItemize}
\item remote-\/workeru. 
\item off-\/workeru (outside of the epiphany system in the shared mem with the zynq) 
\end{DoxyEnumerate}
\item From the zynq side (linux virtual addresses mapped to hardware addresses). 
\begin{DoxyEnumerate}
\item in-\/workeru. Inside the R\+AM of a workeru of the epiphany system (no register mem). 
\item off-\/workeru 
\end{DoxyEnumerate}
\end{DoxyItemize}

The most used functions are in files \hyperlink{shared__eph3_8h}{shared\+\_\+eph3.\+h} and \hyperlink{shared_8h}{shared.\+h}

\subsection*{Implicit addressing symmetry}

In the examples it is used an implicit symmetry\+: The fact that two objects that are allocated in exactly the same order in different workerus have the same local address.

For example when in the mc\+\_\+workerus\+\_\+main function of the \hyperlink{philo_8cpp}{philo.\+cpp} program, the line\+:


\begin{DoxyPre}
    philo\_workeru* workeru\_dat = philo\_workeru::acquire\_alloc();
\end{DoxyPre}


allocates a global \textquotesingle{}workeru\+\_\+dat\textquotesingle{} variable it is done in every workeru, so all data inside will have the same local address in every workeru.

So the macro \hyperlink{philo_8cpp_a80458da12ef75d2c9eb5f185b2e09d73}{glb\+\_\+stick} will return the same local pointer in every workeru and that is why by calling \hyperlink{shared__eph3_8h_a6894e5bde816e6d104c56ec5a8c8288a}{mc\+\_\+addr\+\_\+set\+\_\+id} with it and the id of another workeru as in the macro \hyperlink{philo_8cpp_a35a8b253ce444013c865600fd0694afa}{get\+\_\+stick} the \hyperlink{classchopstick}{chopstick} of an other workeru can be addressed in orther to send it \hyperlink{classmissive}{missive} s. The same happens for \hyperlink{philo_8cpp_adcc662701c5f055b26a048484d17e2c6}{glb\+\_\+philo}.

~\newline
~\newline
~\newline
~\newline
 